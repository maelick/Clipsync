\chapter{Analyse des solutions existantes}
\renewcommand{\leftmark}{\thechapter.~~Analyse des solutions existantes}
Cette section détaille l'analyse des solutions existantes
\emph{i.e.} la présentation
et comparaison de ces différentes solutions. Celles-ci sont divisées en
deux catégories. La première reprend les solutions dites \emph{lourdes},
\emph{i.e.} qui reposent sur des logiciels permettant de faire
beaucoup plus que du copier/coller \emph{e.g.} les \emph{bureaux virtuels}.
La seconde reprend les solutions \emph{potentiellement légères} \emph{i.e.}
qui sont des logiciels qui \emph{a priori} conviendraient comme solution
au problème.

Tout d'abord seront étudiés un ensemble de logiciels et protocoles
donnés comme mots-clés par le directeur de projet au début de celui-ci.
Ceux-ci sont principalement liés à des technologies lourdes et seront
majoritairement ceux entrant dans la partie des solutions lourdes. Les
autres solutions lourdes seront surtout des solutions plus conventionnelles
comme l'échange d'e-mails ou le partage de fichiers.

\section{Solutions lourdes}
Les solutions étudiées dans cette section seront d'abord l'échange
d'e-mails, l'utilisation d'un serveur \emph{FTP} (File Transfer Protocol)
et le partage de fichiers.
Les autres solutions étudiées seront \emph{Remote Desktop Service},
\emph{VNC}, \emph{Citrix XenApp} et
la technologie \emph{NX}. La comparaison de ces solutions est résumée
dans la table \ref{tbl:comp_lourd}.

\subsection{Échange d'e-mails}
Une première solution qui vient rapidement à l'esprit est l'utilisation
du courrier électronique. Il est en effet facile d'échanger du texte ou
un fichier quelconque entre deux machines en utilisation celui-ci.
Par exemple il suffit simplement d'envoyer à sa propre adresse
le texte à copier/coller ou bien de joindre le fichier que l'on désire
transférer. Cette solution à l'avantage d'être utilisable sur n'importe
quelle machine (et n'importe quel système d'exploitation) sans l'installation
d'un logiciel particulier autre qu'un client mail.

Cependant ceci reste très fastidieux. Outre l'utilisation d'un outil
qui n'est pas prévu pour faire du copier/coller, ceci nécessite
l'installation d'un serveur mail sur le réseau local, ou bien un accès à
Internet. Cet accès à Internet pose d'ailleurs un problème important
à l'heure actuelle où les connexions fournies aux particuliers ne
proposent pas une vitesse d'envoi très élevée. Un réseau intranet câblé
en \emph{Fast Ethernet} permettra généralement un débit symétrique d'au
moins 100 Mbits/s, alors qu'une connexion ADSL standard dépasse rarement
les quelques Mbits/s en upload. Les différences de latence entre l'internet
et l'intranet risquent aussi d'être fort importantes.

Ceci permet de montrer que, non seulement il n'est pas nécessaire
d'utiliser Internet pour échanger des données entre deux machines
qui sont normalement situées dans la même pièce, mais que cela peut
en plus apporter une perte de performances si l'on dispose d'une
connexion à faible débit\footnote{Ce qui est actuellement le cas en Belgique
ainsi que dans la plus grande partie du monde où la fibre optique et
les connexions symétriques sont peu répandues}.
L'utilisation d'Internet sera donc écartée par
la suite pour ces raisons et seule l'utilisation sur un réseau local
sera considérée.

\subsection{Utilisation d'un serveur FTP}
Un moyen de faire du copier/coller entre plusieurs plateformes
est l'utilisation d'un serveur FTP. Pour cela il faut qu'un
serveur soit installé sur le réseau local. De même chaque client
devra disposer d'un client FTP. Sur Unix il est aussi possible de se passer
d'un serveur FTP et d'utiliser un serveur \emph{SSH} (Secure Shell Client),
le protocole \emph{SFTP} (SSH File Transfer Protocol) permettant
d'utiliser un serveur SSH à la manière d'un serveur FTP sécurisé.

La solution du serveur FTP a donc comme contrainte l'installation du logiciel
serveur. Celle-ci peut être en partie résolue sous Unix grâce à SSH.
En effet il peut être assez fréquent d'avoir un serveur SSH installé
en local pour l'utilisateur Unix utilisant plusieurs machines simultanément.
Cependant le fait de créer un fichier pour copier/coller du texte engendre
une lourdeur non désirée. Cette dernière remarque s'applique aussi pour
le partage de fichiers.

\subsection{Partage de fichiers}
Le partage de fichier permet d'accéder à un répertoire se trouvant sur
une machine A à partir d'une machine B se situant sur le même réseau.
Celui-ci peut être mis en oeuvre de plusieurs manières. Sur Windows
il est implémenté nativement via le protocole SMB. Sous Unix le protocole
\emph{NFS} (Network File System) est sans doute le plus répandu.
Une alternative peut aussi être l'utilisation de SSH et \emph{SSHFs}
(SSH Filesystem qui permet de monter un dossier sur une machine distante
comme si c'était un périphérique et qui repose sur SFTP). Le partage de
fichiers de Windows n'étant pas compatible sous Unix et \emph{vice versa},
l'utilisation de \emph{Samba} \cite{samba} sera obligatoire s'il est nécessaire
de supporter ces deux mondes. Cette solution présente aussi les mêmes
désavantages que l'utilisation de FTP.

\subsection{Remote Desktop Services}
Remote Desktop Services, autrefois \emph{Terminal Services}
est un composant de Microsoft Windows permettant l'utilisation
d'un ordinateur à distance tournant sous Windows\cite{wiki:rds}.
Ce système est basé sur un modèle client-serveur.
Le serveur est appelé Terminal Server et est inclus dans Windows.
Il est à noter que seule la version serveur
de Windows permet une configuration avancée du programme serveur.
Le protocole utilisé est appelé \emph{RDP} (Remote Dekstop Protocol) et
peut être transporté dans un tunnel \emph{TLS} (Transport Layer Security,
anciennement \emph{SSL}, Secure Sockets Layer) afin d'améliorer la sécurité
du protocole. L'utilisation de ce protocole est possible sous les
systèmes d'exploitation basés sur Unix grâce à l'implémentation
libre \emph{rdekstop} \cite{rdesktop} du client. Le protocole et le serveur
supportent le partage du presse-papier, cependant il est évident que cette
solution est inadéquate pour être utilisée comme copier/coller
multi-plateformes.

\subsection{VNC}
VNC (Virtual Network Computing) \cite{wiki:vnc} est un système logiciel
permettant d'utiliser
un ordinateur à distance. Il a comme avantage sur le protocole de Microsoft
d'être libre de droits et d'être indépendant du système d'exploitation.
Bien que non sécurisé par défaut, il existe différents moyens de le sécuriser
\emph{e.g.} via une connexion SSH ou \emph{VPN} (réseau privé virtuel).
Cette solution souffre des mêmes problèmes que Remote Desktop Services,
c'est-à-dire qu'il permet de faire bien plus que du copier/coller et
allourdi le système.

\subsection{Citrix XenApp}
Citrix XenApp \cite{wiki:xenapp} est un ensemble de produits permettant de
virtualiser des applications sur différentes machines. Il distribue
des services tournant généralement sur un ou plusieurs serveurs à des
clients dits légers, \emph{i.e.} qui n'ont pas besoin d'avoir une grande
quantité de ressources matérielles disponibles pour exécuter
les applications, vu que celles-ci sont exécutées sur un serveur central.
Contrairement à VNC qui ne distribue que ce qui est
affiché, XenApp fonctionne de manière semblable à \emph{X11}
\footnote{X Window, X11 ou X est le système
graphique standard de Unix fonctionnant sous forme de serveur et où
chaque application graphique est un client}. Cependant ceci ne l'empêche
pas de souffrir de problèmes déjà évoqués, tels un overhead important lorsque
l'on veut faire du copier/coller et l'utilisation de license propriétaire.

\subsection{Technologie NX}
NX \cite{wiki:nx} est un protocole d'accès distant à X11 reposant sur un
modèle client-serveur et utilisant SSH pour la sécurité. L'implémentation
de base \emph{NoMachine NX} est propriétaire mais une implémentation libre
\emph{FreeNX} \cite{freenx} existe. Tout comme les solutions précédentes, NX
permet bien plus que le copier/coller et souffre donc des mêmes problèmes.

\subsection{ClusterSSH}

\subsection{Comparaison}
En résumé, toutes ces solutions lourdes présentées reposent
sur un modèle client-serveur et sont conçues, soit pour fournir un service
qui n'est pas prévu pour être utilisé afin de réaliser du copier/coller,
soit pour être utilisées comme bureau virtuel distant. Certaines sont
plus simples que d'autres à mettre en oeuvre; d'autres sont plus sécurisées,
tandis que d'autres sont propriétaires ou visent un système d'exploitation
particulier. Mais elles sont toutes inadaptées pour effectuer
un copier/coller multi-plateformes simple. Leurs caractéristiques sont résumées
dans la table \ref{tbl:comp_lourd}.

\begin{sidewaystable}[!h]
  \centering
  \begin{tabular}{|l|l|l|m{7em}|m{7em}|m{7em}|}
    \hline
    Solution & Service rendu & Architecture & Sécurité & In\-dé\-pen\-dance
    de la plateforme & Ouverture de la solution \\
    \hline
    \hline
    E-mails & E-mails & Client-serveur & Dépend du protocole & Oui &
    Protocoles ouverts \\
    \hline
    FTP & Transfert de fichiers & Client-serveur & SSH grâce à SFTP & Oui
    sauf SFTP & Protocoles ouverts \\
    \hline
    Partage de fichiers & Partage de fichiers & Client-serveur & SSH sous
    Unix & Oui grâce à Samba & Libre sous Unix, fermé sous Windows \\
    \hline
    RDS & Bureau distant & Client-serveur & Tunnel TLS possible & Windows
    mais clients Unix existants & Protocole propriétaire\\
    \hline
    VNC & Bureau distant & Client-serveur & Possibilité d'utiliser SSH ou un
    VPN & Oui & Logiciel libre \\
    \hline
    XenApp & Bureau distant & Client-serveur & Possibilité d'utiliser HTTPS &
    MS Windows Server, HP-UX, Solaris, AIX & Logiciel propriétaire \\
    \hline
    NX & Bureau distant & Client-serveur & Oui & Vise Unix &
    Im\-plé\-men\-ta\-tion libre FreeNX \\
    \hline
  \end{tabular}
  \caption{\label{tbl:comp_lourd} Comparaison des solutions lourdes}
\end{sidewaystable}

\section{Solutions \emph{a priori} légères}
Les solutions présentées dans cette section sont pour la majorité des
solutions trouvées en faisant des recherches sur Google sur base
de mots clés français et anglais. Celles-ci ont permis de trouver des
logiciels qui conviendraient au premier abord en fournissant un moyen
simple de faire du copier/coller en réseau. Les logiciels présentés seront
\emph{ClipboardMultiSharer}, \emph{Clipboard Share},
\emph{The Network Clipboard} et \emph{Remote Clip}.
La comparaison de ces solutions est résumée dans la table \ref{tbl:comp_leger}.

\subsection{Cl1p}

\subsection{ClipboardMultiSharer}
ClipboardMultiSharer \cite{clipmsharer} est un logiciel écrit en \emph{Java}
et en \emph{C\#} qui permet de faire du copier/coller entre plusieurs
ordinateurs. Celui-ci supporte le copier/coller de texte et d'image et repose
sur l'utilisation d'un fichier partagé en réseau. Ceci en fait donc en réalité
une solution lourde vu qu'il requiert l'utilisation du partage de fichiers.
De plus, bien que le programme soit écrit en Java, la portabilité du programme
dépend du type de partage de fichiers utilisé. Il sera donc sans doute
nécessaire d'utiliser Samba s'il est nécessaire de travailler entre Unix
et Windows.

\subsection{Clipboard Share}
Clipboard Share \cite{clipshare} est un autre logiciel qui permet de faire
du CCMP. La connexion est chiffrée et il est possible de recevoir
du contenu en provenance d'un envoyeur de confiance. Il est écrit en C\#,
requiert \emph{Microsoft .NET 3.5} ainsi que \emph{PNRP} (\emph{Peer Name
Resolution Protocol}), un protocole \emph{P2P} (Peer-to-Peer, pair à pair en
français, le principe de ce type de réseaux est décrit dans la section
\ref{sec:p2p} à la page \pageref{sec:p2p}) propriétaire de Microsoft,
ce qui signifie que le logiciel ne tourne que sur Windows XP SP2 ou plus
récent \cite{wiki:pnrp}. Bien qu'il propose des fonctionnalités intéressantes
et réponde au critère de logiciel léger, il ne convient pas car il ne vise
que Windows et repose sur des technologies propriétaires.

\subsection{The Network Clipboard}
The Network Clipboard \cite{netclip} est lui écrit en \emph{C++} et fonctionne
aussi bien sous Windows que sous Linux. Le protocole mis en place permet
d'utiliser l'application en P2P grâce au \emph{broadcast} \emph{IP}.
Cependant il possède plusieurs défauts qui l'empêchent d'être un bon candidat.
Premièrement le contenu n'est pas chiffré sur le réseau et aucun moyen
d'authentification ne semble être mis en oeuvre pour sécuriser le système.
Ensuite il ne semble pas certain que le programme tourne sur tous les Unix,
\emph{e.g.} il n'est fait mention nulle part d'une compatibilité assurée
avec \emph{MacOS}. Enfin, il faut tout de même noter que The Network
Clipboard utilise la version 3 de \emph{Qt}\footnote{framework C++ utilisé
entre autre dans le projet \emph{KDE}} et qui, avant la version 4, n'était
libre que sous Linux \cite{wiki:qt}.
Le programme repose donc sur une librairie propriétaire sous les autres
systèmes d'exploitation.

\subsection{Remote Clip}
Remote Clip \cite{remoteclip} est à la base un outil pour synchroniser
du contenu entre Windows et un \emph{PDA} \emph{Palm}. Celui-ci existe
aussi en version Java et lui permet ainsi d'être portable. Il repose sur une
architecture P2P dont le fonctionnement est expliqué dans un article de Robert
C. Miller et Brad A. Myers \cite{Miller99syncclips}. Les connexions sont
également chiffrées via TLS à partir de la version 1.4 de Java et
l'ajout d'un pair dans un groupe de partage du presse-papier nécessite
l'accord explicite de la machine gérant celui-ci. Il permet de gérer aussi
bien le texte que les fichiers et est distribué sous licence libre.
Remote Clip semble donc être le logiciel répondant à toutes les
exigences requises mais contrairement aux solutions citées plus haut,
le projet ne semble plus actif. En effet la dernière version du logiciel
est datée de juillet 2002. Cela signifie que de potentielles failles
de sécurité ne seront pas corrigées et que le logiciel ne sera pas amélioré.

\subsection{Comparaison}
En résumé toutes les solutions présentées ont chacune des qualités et des
défauts. ClipboardMultiSharer repose sur du partage de fichiers (et donc un
modèle client-serveur). Clipboard Share repose sur des technologies fermées
et ne tourne que sous Windows. The Network Clipboard n'est pas sécurisé.
Seul Remote Clips répond réellement aux exigences du projet même si celui-ci
est quelque peu vieillissant. Pour cette raison c'est les concepts de ce
dernier qui seront principalement utilisés pour développer le projet.
Les caractéristiques de l'ensemble des logiciels sont résumées dans la
table \ref{tbl:comp_leger}.

\begin{sidewaystable}[!h]
  \centering
  \begin{tabular}{|l|l|l|m{7em}|m{7em}|m{7em}|}
    \hline
    Solution & Service rendu & Architecture & Sécurité & In\-dé\-pen\-dance
    de la plateforme & Ouverture de la solution \\
    \hline
    \hline
    Clipboard\-MultiSharer & CCMP & Client-serveur & Partage de fichiers & Java
    + partage de fichiers & Logiciel libre\\
    \hline
    Clipboard Share & CCMP & P2P & Connexion cryptée + envoyeur de confiance &
    Windows (.NET 3.5 + PNRP) & Logiciel libre mais technologies MS \\
    \hline
    The Network Clipboard & CCMP & P2P & aucune & Linux + Windows &
    Logiciel libre \\
    \hline
    Remote Clip & CCMP & P2P & TLS + validation de connexion d'un pair &
    Java & Logiciel libre \\
    \hline
    \hline
    Solution & Service rendu & Architecture & Sécurité & In\-dé\-pen\-dance
    de la plateforme & Ouverture de la solution \\
    \hline
  \end{tabular}
  \caption{\label{tbl:comp_leger} Comparaison des solutions légères}
\end{sidewaystable}
